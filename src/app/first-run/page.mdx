export const metadata = {
  title: 'First Run',
  description:
    'TofuPilot offers a fine-tuned Python library to make your life easier and give you the best experience when consuming the API.',
}

# Create your first test run

Uploading your first test run to TofuPilot is quick and easy using the Python client. This guide will show you how in just 2 minutes. {{ className: 'lead' }}

<Note>
  Once logged in, you will also find an interactive tutorial guide within the
  app covering these steps.
</Note>

## Create your API key

Generate your API key from your Profile page to securely authenticate Python client requests to the TofuPilot API.

<div className="not-prose">
  <Button href="/api-key" variant="text" arrow="right">
    <>Complete guide to creating your API Key</>
  </Button>
</div>

## Download the Python client

To interact with the TofuPilot API effortlessly, install the TofuPilot Python client using this command:

```bash {{ title: 'bash' }}
pip install tofupilot
```

## Create a test run

A test run can now be easily created using a few parameters. Here is the code snippet:

```python {{ title: 'first_upload.py'}}
from tofupilot import TofuPilotClient
import time
from datetime import timedelta

client = TofuPilotClient(api_key="Your API key goes here")

def test_function():
    # Your test execution goes here
    time.sleep(1)  # Placeholder for test execution time
    return True

# Measure the duration of the test_function (optional)
start_time = time.time()
run_passed = test_function()
end_time = time.time()
duration = end_time - start_time

client.create_run(
    procedure_id="FVT1",
    unit_under_test={
      "serial_number": "00102",
      "part_number": "PCB01"
    },
    run_passed=run_passed,
    duration=timedelta(seconds=end_time-start_time) # Optional argument
)
```

<Note>
  A default procedure named 'FVT1' is automatically created for your
  organization. If it has been deleted or you require a different procedure, you
  can create a new one from the Procedures page.
</Note>

## Check the Runs page

You can now navigate to the Runs page to view the newly created run.

<Image src={'/first-run.png'} alt={'Your first run'} />

Here are the operations handled by TofuPilot's servers:

- A new run was created from the procedure `FVT1`.
- The Unit `00102` was automatically created as it did not exist.
- The Unit was linked to Component `PCB01`, which was also automatically created since it did not exist.
- Since `run_passed` is `True`, the run was assigned a `Pass` status.
