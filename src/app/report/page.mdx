export const metadata = {
  title: 'Report',
  description:
    'Tofupilot enables the creation of static formatted reports programmatically for each run, facilitating compliance, exporting, and sharing. This guide explains how to use Tofupilot’s report feature to create, customize, and print test run reports. Each run report is generated from a report template defined in the procedure, with a variable system allowing dynamic modification during the creation of the run using values obtained during the run.',
}

# Report

Beyond structured test steps and attachments, production reports sometimes need to produce static formatted reports to facilitate compliance, exporting, and sharing. Tofupilot enables the creation of these types of reports programmatically for each run. {{ className: 'lead' }}

This guide explains how to use Tofupilot’s report feature to create, customize, and print test run reports.

## Report Template

Each run report is generated from a report template defined in the procedure, with a variable system allowing dynamic modification during the creation of the run using values obtained during the run.

### Create report template

Open the page of the procedure for which you want the runs to have a report, navigate to the `Report Template` section, and then click on the `Edit` button.

Tofupilot provides a collaborative rich text editor to help you create a report template in the desired format.

<Image src="/procedure-report-template.png" alt="Procedure Report Template" />

The editor provides a full set of blocks and marks to create rich reports:

| Category         | Type                                                          |
| ---------------- | ------------------------------------------------------------- |
| **Headings**     | Heading levels 1, 2, 3                                        |
| **Content**      | Paragraph, Table, Code Block, Image                           |
| **Text Styling** | Quote, Blockquote, Paragraph                                  |
| **Layout**       | Horizontal Rule, Hard Break                                   |
| **Marks**        | Bold, Italic, Underline, Strikethrough, Link, Highlight, Code |

### Insert variable field

To create variables in a procedure report template, wrap the variable name in double curly brackets: `{{variable-name}}`. These fields will then become customizable inputs.

<Note>
  Variables can be inserted into any editor block (lists, tables, code blocks,
  etc.) and can include applied styles.
</Note>

<Image
  src="/procedure-report-template-variable.png"
  alt="Procedure Report Template Variables"
/>

## Example

Create a run from the procedure and use the `report_variables` parameter to populate the variables fields.

```python {{ title: 'create_run_report_variables.py'}}
from tofupilot import TofuPilotClient

client = TofuPilotClient(api_key="Your API key goes here")

def test_function():
    # your test execution goes here
    run_passed = True
    report_variables={
      "temperature_sensor": "75°C",
      "calibration_date": "2024-06-20",
      "technician_name": "John Doe",
      "initial_temperature_reading": "72°C",
      "final_temperature_reading": "75°C",
    }
    return run_passed, report_variables

run_passed, report_variables = test_function()

client.create_run(
    procedure_id="FVT1",
    unit_under_test={
      "serial_number": "0001",
      "part_number": "PCB01"
    },
    run_passed=run_passed,
    report_variables=report_variables
)
```

## Run Page

Access the report of the newly created run where variables have been automatically populated.

<Image src="/run-report.png" alt="Run Report" />
