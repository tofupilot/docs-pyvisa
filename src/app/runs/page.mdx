export const metadata = {
  title: 'Runs',
  description:
    'On this page, we’ll dive into the different run endpoints you can use to manage runs programmatically.',
}

# Runs

Runs are an essential part of TofuPilot — they are the the primary method for systematically testing and evaluating hardware performance and reliability. On this page, we’ll dive into the different run endpoints you can use to manage runs programmatically. {{ className: 'lead' }}

---

## Create a run {{ tag: 'POST', label: '/v1/runs' }}

<Row>
  <Col>

    This endpoint allows you to add a new run between you and a contact or group. A contact or group id is required to create a run.

    ### Required attributes

    <Properties>
      <Property name="procedure_id" type="string">
        Unique identifier for the run's procedure.
      </Property>
      <Property name="component_id" type="string">
        Unique identifier for the run's component. A new component will be created if none was found with this identifier.
      </Property>
      <Property name="unit_sn" type="string">
        Serial number of the unit on which the run was performed. A new unit will be created if none was found with this S/N.
      </Property>
      <Property name="run_passed" type="boolean">
        Boolean indicating whether the run passed or not.
      </Property>
      <Property name="duration" type="duration">
        ISO8601 timestamp indicating the duration of the run.
      </Property>
    </Properties>

    ### Optional attributes

    <Properties>
      <Property name="component_revision" type="string">
        The name of the component's revision. Required if component has more than one revision.
      </Property>
      <Property name="params" type="record(string, string)">
        {"A dictionary of key/value pairs used to replace {{smart fields}} in the procedure's document."}
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/runs">

    ```bash {{ title: 'cURL' }}
    curl -X POST https://www.tofupilot.com/api/v1/runs
      -H "Content-Type: application/json"
      -H "Authorization: Bearer {token}"
      -d '{

"procedure_id": "FVT1",
"component_id": "EXAMPLE-ID",
"unit_sn": "EXAMPLE-SN",
"run_passed": true,
"duration": "PT27M15S"
}'

    ```

    ```js
    fetch('https://www.tofupilot.com/api/v1/runs', {

method: 'POST',
headers: {
'Content-Type': 'application/json',
Authorization: 'Bearer {token}'
},
body: JSON.stringify({
"procedure_id": "FVT1",
"component_id": "EXAMPLE-ID",
"unit_sn": "EXAMPLE-SN",
"run_passed": true,
"duration": "PT27M15S",
})
})
```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.runs.create(contact_id="WAz8eIbvDR60rouK")
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "xgQQXg3hrtjh7AvZ",
      "contact_id": "WAz8eIbvDR60rouK",
      "group_id": null,
      "pinned_message_id": null,
      "is_pinned": false,
      "is_muted": false,
      "last_active_at": null,
      "last_opened_at": null,
      "created_at": 692233200,
      "archived_at": null
    }
    ```

  </Col>
</Row>
