export const metadata = {
  title: 'TofuPilot › Create a run with report variables',
  description:
    'TofuPilot offers a fine-tuned Python library to make your life easier and give you the best experience when consuming the API.',
}

# Create a run with report variables

Each TofuPilot run includes a Report section with a rich text editor, inheriting the report from the Procedure they are created from. Custom variables can be defined in the template and assigned values when the run is created. {{ className: 'lead' }}

## Create report template with variables

To create variables in a procedure report template, wrap the variable name in double curly brackets: `{{variable-name}}`. These fields will then become customizable inputs.

<Note>
  Variables can be inserted into any editor block (lists, tables, code blocks,
  etc.) and can include applied styles.
</Note>

<Image src="/procedure-report.png" alt="Procedure report template" />

## Set values programmatically

Create a run from the procedure and use the `report_variables` parameter to populate the variables fields.

```python {{ title: 'create_run_report_variables.py'}}
from tofupilot import TofuPilotClient

client = TofuPilotClient(api_key="Your API key goes here")

def test_function():
    # your test execution goes here
    run_passed = True
    report_variables={
      "temperature_sensor": "75°C",
      "calibration_date": "2024-06-20",
      "technician_name": "John Doe",
      "initial_temperature_reading": "72°C",
      "final_temperature_reading": "75°C",
    },
    return run_passed, report_variables

run_passed, report_variables = test_function()

client.create_run(
    procedure_id="FVT1",
    unit_under_test={
      "serial_number": "0001",
      "part_number": "PCB01"
    },
    run_passed=run_passed,
    report_variables=report_variables
)
```

## Check your run report

Access the report of the newly created run where variables have been automatically populated.

<Image src="/run-report.png" alt="Run's report" />
